{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/cart.service\";\nimport * as i2 from \"src/app/services/backend.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../orders/orders.component\";\nfunction CartComponent_div_0_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelement(2, \"hr\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r2 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", item_r2.dish.dish, \" : \", item_r2.servings, \"\");\n  }\n}\nfunction CartComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"h2\");\n    i0.ɵɵtext(2, \"Your CART\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, CartComponent_div_0_div_3_Template, 3, 2, \"div\", 1);\n    i0.ɵɵelement(4, \"br\");\n    i0.ɵɵelementStart(5, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function CartComponent_div_0_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.placeOrder());\n    });\n    i0.ɵɵtext(6, \"Place Order\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(7, \"br\")(8, \"app-orders\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.cart);\n  }\n}\nexport class CartComponent {\n  constructor(cartService, service) {\n    this.cartService = cartService;\n    this.service = service;\n    this.cart = []; // {{dish}, numberofservings}\n  }\n\n  ngOnInit() {\n    this.cart = this.cartService.getCart();\n  }\n  createOrder(order) {\n    let total = 0;\n    let dishesPlaced = [];\n    for (let i = 0; i < order.length; i++) {\n      dishesPlaced.push({\n        dishname: order[i].dish,\n        servings: order[i].servings\n      });\n      total += order[i].dish.price * order[i].servings;\n    }\n    ;\n    let finalOrder = {\n      dishes: dishesPlaced,\n      total: total\n    };\n    return finalOrder;\n  }\n  placeOrder() {\n    let id = '63f55da13a3e6df039d8abb1';\n    let order = this.createOrder(this.cart);\n    this.service.addOrder(id, order).subscribe(data => {\n      console.log(data);\n    });\n  }\n}\nCartComponent.ɵfac = function CartComponent_Factory(t) {\n  return new (t || CartComponent)(i0.ɵɵdirectiveInject(i1.CartService), i0.ɵɵdirectiveInject(i2.BackendService));\n};\nCartComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CartComponent,\n  selectors: [[\"app-cart\"]],\n  decls: 1,\n  vars: 1,\n  consts: [[4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [3, \"click\"]],\n  template: function CartComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, CartComponent_div_0_Template, 9, 1, \"div\", 0);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.cart.length > 0);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf, i4.OrdersComponent],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;;IAEAA,2BAAiC;IAC7BA,YAAsC;IAAAA,qBAAI;IAC9CA,iBAAM;;;;IADFA,eAAsC;IAAtCA,0EAAsC;;;;;;IAH1CA,2BAA6B;IACrBA,yBAAS;IAAAA,iBAAK;IACtBA,oEAEM;IACNA,qBAAI;IACJA,iCAA+B;IAAvBA;MAAAA;MAAA;MAAA,OAASA,kCAAY;IAAA,EAAC;IAACA,2BAAW;IAAAA,iBAAS;IACnDA,qBAAI;IAEJA,iBAAM;;;;IAPkBA,eAAO;IAAPA,qCAAO;;;ACO/B,OAAM,MAAOC,aAAa;EAExBC,YAAoBC,WAAwB,EAAUC,OAAsB;IAAxD,gBAAW,GAAXD,WAAW;IAAuB,YAAO,GAAPC,OAAO;IAD7D,SAAI,GAAU,EAAE,CAAC,CAAC;EAC4D;;EAC9EC,QAAQ;IACN,IAAI,CAACC,IAAI,GAAG,IAAI,CAACH,WAAW,CAACI,OAAO,EAAE;EACxC;EACAC,WAAW,CAACC,KAAU;IACpB,IAAIC,KAAK,GAAG,CAAC;IACb,IAAIC,YAAY,GAAG,EAAE;IACrB,KAAI,IAAIC,CAAC,GAAC,CAAC,EAAEA,CAAC,GAACH,KAAK,CAACI,MAAM,EAAED,CAAC,EAAE,EAAC;MAC/BD,YAAY,CAACG,IAAI,CAAC;QAChBC,QAAQ,EAAEN,KAAK,CAACG,CAAC,CAAC,CAACI,IAAI;QACvBC,QAAQ,EAAER,KAAK,CAACG,CAAC,CAAC,CAACK;OACpB,CAAC;MACFP,KAAK,IAAID,KAAK,CAACG,CAAC,CAAC,CAACI,IAAI,CAACE,KAAK,GAAGT,KAAK,CAACG,CAAC,CAAC,CAACK,QAAQ;;IACjD;IACD,IAAIE,UAAU,GAAG;MACfC,MAAM,EAAET,YAAY;MACpBD,KAAK,EAAEA;KACR;IACD,OAAOS,UAAU;EACnB;EACAE,UAAU;IACR,IAAIC,EAAE,GAAG,0BAA0B;IACnC,IAAIb,KAAK,GAAG,IAAI,CAACD,WAAW,CAAC,IAAI,CAACF,IAAI,CAAC;IACvC,IAAI,CAACF,OAAO,CAACmB,QAAQ,CAACD,EAAE,EAAEb,KAAK,CAAC,CAACe,SAAS,CAAEC,IAAI,IAAG;MACjDC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;IACnB,CAAC,CAAC;EACJ;;AA5BWxB,aAAa;mBAAbA,aAAa;AAAA;AAAbA,aAAa;QAAbA,aAAa;EAAA2B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDT1BhC,8DASM;;;MATAA,0CAAqB","names":["i0","CartComponent","constructor","cartService","service","ngOnInit","cart","getCart","createOrder","order","total","dishesPlaced","i","length","push","dishname","dish","servings","price","finalOrder","dishes","placeOrder","id","addOrder","subscribe","data","console","log","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\bajio\\Desktop\\Anjali\\frameworks\\angular\\tcs\\Day8_aNGULAR\\Application\\frontend\\src\\app\\home\\cart\\cart.component.html","C:\\Users\\bajio\\Desktop\\Anjali\\frameworks\\angular\\tcs\\Day8_aNGULAR\\Application\\frontend\\src\\app\\home\\cart\\cart.component.ts"],"sourcesContent":["<div *ngIf=\"cart.length > 0\">\n    <h2>Your CART</h2>\n<div *ngFor = \"let item of cart\">\n    {{item.dish.dish}} : {{item.servings}}<hr>\n</div>\n<br>\n<button (click)=\"placeOrder()\">Place Order</button>\n<br>\n<app-orders></app-orders>\n</div>\n\n","import { Component, OnInit } from '@angular/core';\nimport { BackendService } from 'src/app/services/backend.service';\nimport { CartService } from 'src/app/services/cart.service';\n\n@Component({\n  selector: 'app-cart',\n  templateUrl: './cart.component.html',\n  styleUrls: ['./cart.component.css']\n})\nexport class CartComponent implements OnInit {\n  cart: any[] = []; // {{dish}, numberofservings}\n  constructor(private cartService: CartService, private service:BackendService){}\n  ngOnInit(): void{\n    this.cart = this.cartService.getCart();\n  }\n  createOrder(order: any){\n    let total = 0;\n    let dishesPlaced = [];\n    for(let i=0; i<order.length; i++){\n      dishesPlaced.push({\n        dishname: order[i].dish,\n        servings: order[i].servings\n      })\n      total += order[i].dish.price * order[i].servings;\n    };\n    let finalOrder = {\n      dishes: dishesPlaced,\n      total: total\n    };\n    return finalOrder;\n  }\n  placeOrder(){\n    let id = '63f55da13a3e6df039d8abb1';\n    let order = this.createOrder(this.cart);\n    this.service.addOrder(id, order).subscribe((data)=>{\n      console.log(data);\n    })\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}